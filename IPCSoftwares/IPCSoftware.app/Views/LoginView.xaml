<UserControl x:Class="IPCSoftware.App.Views.LoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:helpers="clr-namespace:IPCSoftware.Helpers;assembly=IPCSoftware.Helpers"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             mc:Ignorable="d" 
             d:DesignWidth="1920" d:DesignHeight="1080"
             
             FocusManager.FocusedElement="{Binding ElementName=UsernameInput}">
    <UserControl.Resources>
        <Style x:Key="LoginInputContainer" TargetType="Border">
            <Setter Property="Height" Value="60"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Background" Value="#F5F7FA"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="0,0,0,25"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="BorderBrush" Value="#1E4FA8"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Image Source="/Controls/Images/AOILogin.jpg"
               Stretch="UniformToFill"
               HorizontalAlignment="Center"
               VerticalAlignment="Center"/>

        <Rectangle Fill="#990F172A" />

        <Viewbox Stretch="Uniform">
            <Grid Width="1920" Height="1080">

                <Border Width="1200" Height="700"
                        CornerRadius="20"
                        Background="White"
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center">

                    <Border.Effect>
                        <DropShadowEffect BlurRadius="50" ShadowDepth="10" Opacity="0.4" Color="Black"/>
                    </Border.Effect>

                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="450"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Border Grid.Column="0" CornerRadius="20,0,0,20">
                            <Border.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Color="#1E3A8A" Offset="0"/>
                                    <GradientStop Color="#1E4FA8" Offset="1"/>
                                </LinearGradientBrush>
                            </Border.Background>

                            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                                <Border Width="120" Height="120" 
                                        CornerRadius="60" 
                                        BorderBrush="#33FFFFFF" 
                                        BorderThickness="4"
                                        Margin="0,0,0,30">
                                    <Border.Background>
                                        <ImageBrush ImageSource="/Controls/Images/AOILogo.png" Stretch="UniformToFill"/>
                                    </Border.Background>
                                </Border>

                                <TextBlock Text="AOI SYSTEM"
                                           FontSize="42"
                                           FontWeight="Bold"
                                           Foreground="White"
                                           HorizontalAlignment="Center"
                                           />

                                <!--<TextBlock Text="Secure Operator Access"
                                           FontSize="20"
                                           Foreground="#AAC4FF"
                                           HorizontalAlignment="Center"
                                           Margin="0,10,0,0"/>-->
                            </StackPanel>
                        </Border>

                        <Grid Grid.Column="1" Margin="80">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <StackPanel Grid.Row="0" Margin="0,0,0,50">
                                <TextBlock Text="Welcome Back"
                                           FontSize="48"
                                           FontWeight="Bold"
                                           Foreground="#333333"/>
                                <TextBlock Text="Please enter your credentials to continue."
                                           FontSize="20"
                                           Foreground="#888888"
                                           Margin="0,10,0,0"/>
                            </StackPanel>

                            <StackPanel Grid.Row="1" VerticalAlignment="Center">

                                <TextBlock Text="USERNAME" FontSize=" 20" FontWeight="SemiBold" Foreground="#555" Margin="0,0,0,10"/>
                                <Border Style="{StaticResource LoginInputContainer}">

                                    <TextBox x:Name="UsernameInput" Height="60"
                                             Text="{Binding Username, UpdateSourceTrigger=PropertyChanged}"
                                             FontSize="24"
                                             helpers:FocusExtension.IsFocused="{Binding IsUsernameFocused}"
                                             Background="Transparent"
                                             BorderThickness="0"
                                             VerticalContentAlignment="Center"
                                             Padding="15,0"
                                             Foreground="#333"/>
                                </Border>

                                <TextBlock Text="PASSWORD" FontSize=" 20" FontWeight="SemiBold" Foreground="#555" Margin="0,0,0,10"/>
                                <Border Style="{StaticResource LoginInputContainer}">
                                    <PasswordBox x:Name="PasswordBoxControl" Height="60"
                                                 FontSize="24"
                                                 Background="Transparent"
                                                 BorderThickness="0"
                                                 VerticalContentAlignment="Center"
                                                 Padding="15,0"
                                                 helpers:PasswordBoxHelper.BindPassword="True"
                                                 helpers:PasswordBoxHelper.BindablePassword="{Binding Password, Mode=TwoWay}"/>
                                </Border>
                            </StackPanel>

                            <Button Grid.Row="2"
                                    Content="LOGIN"
                                    Command="{Binding LoginCommand}"
                                    IsDefault="True"
                                    Height="70"
                                    FontSize="24"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Cursor="Hand"
                                    BorderThickness="0">

                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#1E3A8A" Offset="0"/>
                                        <GradientStop Color="#1E4FA8" Offset="1"/>
                                    </LinearGradientBrush>
                                </Button.Background>

                                <Button.Resources>
                                    <Style TargetType="Border">
                                        <Setter Property="CornerRadius" Value="10"/>
                                    </Style>
                                </Button.Resources>

                                <Button.Style>
                                    <Style TargetType="Button">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="Button">
                                                    <Border Background="{TemplateBinding Background}" CornerRadius="10">
                                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter Property="Opacity" Value="0.9"/>
                                            </Trigger>
                                            <Trigger Property="IsPressed" Value="True">
                                                <Setter Property="Opacity" Value="0.7"/>
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </Button.Style>
                            </Button>

                        </Grid>
                    </Grid>
                </Border>
            </Grid>
        </Viewbox>
    </Grid>
</UserControl>